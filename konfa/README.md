# VFS Emulator - Эмулятор виртуальной файловой системы

========================================================================

## БЫСТРЫЙ СТАРТ

Базовый запуск:
python main.py

Загрузка VFS из директории:
python main.py --vfs-path ./моя_папка

Автозапуск скрипта при старте:
python main.py --startup-script init.txt

Выполнить скрипт и выйти:
python main.py --run-script commands.txt

Показать доступные скрипты:
python main.py --list-scripts

========================================================================

## ОСНОВНЫЕ КОМАНДЫ

### НАВИГАЦИЯ И ПРОСМОТР
ls          - список файлов
  Примеры:  ls, ls -l, ls /home

cd          - смена директории
  Примеры:  cd /home, cd .., cd folder

pwd         - показать текущий путь

find        - поиск файлов
  Примеры:  find .txt, find имя /путь

### РАБОТА С ФАЙЛАМИ
cat         - показать содержимое файла
  Пример:   cat file.txt

tac         - обратный вывод файла (строки в обратном порядке)
  Пример:   tac file.txt

touch       - создать пустой файл
  Пример:   touch новый.txt

### РАБОТА С ДИРЕКТОРИЯМИ
mkdir       - создать директорию
  Пример:   mkdir новая_папка

### УТИЛИТЫ И ИНФОРМАЦИЯ
history     - история последних команд

conf-dump   - информация о конфигурации VFS

list-scripts - список доступных скриптов

run-script  - выполнить скрипт
  Пример:   run-script test.txt

exit        - выход из эмулятора
  Пример:   exit, exit 0

========================================================================

## ФОРМАТ СКРИПТОВ

Скрипты - это обычные текстовые файлы с расширением .txt

Пример скрипта (test.txt):
----------------------------------------
# Это комментарий
pwd
ls -l
mkdir test_folder
cd test_folder
touch hello.txt
exit
----------------------------------------

Особенности:
- Пустые строки игнорируются
- Строки, начинающиеся с # - комментарии
- Команды выполняются последовательно

========================================================================

## ЗАГРУЗКА ИЗ РЕАЛЬНОЙ ФАЙЛОВОЙ СИСТЕМЫ

Эмулятор может загрузить структуру из существующей директории:

1. Создайте тестовую папку:
   mkdir my_data
   echo "Test 1" > my_data/file1.txt
   echo "Test 2" > my_data/file2.txt
   mkdir my_data/docs

2. Запустите с загрузкой:
   python main.py --vfs-path my_data

3. В эмуляторе:
   myvfs:/$ ls
   myvfs:/$ cat file1.txt

========================================================================

## ПРИМЕР СЕССИИ

myvfs:/$ ls
Содержимое директории /:
  home/
  etc/
  var/
  tmp/

myvfs:/$ cd ..

myvfs:/$ cd //

myvfs:/$ cd ..

myvfs:/$ cd jgrlkjflkh
cd: jgrlkjflkh: Нет такой директории

myvfs:/$ ls
Содержимое директории /:
  home/
  etc/
  var/
  tmp/

myvfs:/$ cd home

myvfs:/home$ ls
Содержимое директории /home:
  user1/
  user2/
  guest/

myvfs:/home$ cd user1

myvfs:/home/user1$ ls
Содержимое директории /home/user1:
  documents/
  file1.txt
  file2.txt

myvfs:/home/user1$ cat file1.txt
=== file1.txt ===
Это содержимое file1.txt
Строка 2
Строка 3


myvfs:/home/user1$ tac file1.txt
=== file1.txt (обратный порядок) ===

Строка 3
Строка 2
Это содержимое file1.txt

myvfs:/home/user1$ find file
Поиск 'file' в /home/user1:
  /home/user1/file1.txt (file)
  /home/user1/file2.txt (file)

========================================================================

## АРГУМЕНТЫ КОМАНДНОЙ СТРОКИ

--vfs-path ПУТЬ        Загрузить VFS из указанной директории
--startup-script ФАЙЛ  Скрипт для автозапуска
--run-script ФАЙЛ      Выполнить скрипт и выйти
--list-scripts         Показать доступные скрипты

========================================================================

## ОГРАНИЧЕНИЯ

- Максимальный размер загружаемого файла: 10000 символов
- Бинарные файлы отображаются как "[бинарные данные]"
- Поддерживаются только текстовые файлы для чтения
- История команд хранит только последние 10 команд

========================================================================

## ПРИМЕРЫ ИСПОЛЬЗОВАНИЯ

1. Исследование стандартной VFS:
   python main.py

2. Работа со своей структурой:
   python main.py --vfs-path ./проект

3. Автоматизация задач:
   Создайте файл setup.txt:
     mkdir backups
     cd backups
     touch log.txt
     exit
   python main.py --run-script setup.txt

4. Поиск файлов:
   myvfs:/$ find config
   myvfs:/$ find .log /var

========================================================================

## ТЕХНИЧЕСКАЯ ИНФОРМАЦИЯ

- Файловая система хранится в словаре Python
- Поддерживаются абсолютные и относительные пути
- Есть обработка специальных символов (., ..)
- Поддержка кавычек и пробелов в именах файлов

========================================================================

## ДОСТУПНЫЕ СКРИПТЫ В ПАКЕТЕ

1. test_script.txt     - Пример простого скрипта
2. explore_vfs.txt     - Скрипт для исследования VFS
3. setup_folder.txt    - Создание тестовой структуры

Для просмотра: python main.py --list-scripts

========================================================================

## ПОДСКАЗКИ

1. Используйте Tab для автодополнения (в некоторых терминалах)
2. История команд: стрелки вверх/вниз
3. Для сложных имен используйте кавычки: cd "папка с пробелами"
4. Команда conf-dump показывает текущее состояние эмулятора

========================================================================

## СОЗДАНИЕ СОБСТВЕННОЙ VFS

1. Создайте структуру папок на диске
2. Наполните файлами
3. Загрузите в эмулятор: --vfs-path ваша_папка
4. Работайте с ней как с реальной файловой системой

========================================================================

## ВЫХОД ИЗ ЭМУЛЯТОРА

1. Команда exit
2. Ctrl+C в интерактивном режиме
3. Ctrl+D (EOF) в Unix-системах

========================================================================

